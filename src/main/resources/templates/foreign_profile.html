<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Profile</title>
    <link rel="stylesheet" th:href="@{/css/main.css}" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link rel="stylesheet" th:href="@{/css/main.css}" />
  </head>
  <body class="p-5 mt-4">
    <div th:if="${connection} == 'uninitiated'">
      <h2 th:text="${profile.profileName} + 'is not a contact'"></h2>
      <form
        class="d-inline"
        method="POST"
        th:action="@{/connections/new/(requestSource=${current.profileName},requestTarget=${profile.profileName})}"
      >
        <button class="btn btn-secondary my-2 my-sm-0" type="submit">
          Connect
        </button>
      </form>
    </div>
    <div th:if="${connection} == 'pending'">
      <h2
        th:text="'A connection request has been made to ' + ${profile.profileName} + '. It is pending their approval.'"
      ></h2>
      <a
        th:href="@{/profile/{profileName}/(profileName=${current.profileName})}"
        class="btn btn-primary"
        >Back To Profile</a
      >
    </div>
    <div th:if="${connection} == 'accepted'" class="container">
      <div class="row">
        <div class="col-lg">
          <h2 th:text="${profile.profileName}">Name</h2>

          <div th:if="${imageId} != null">
            <img
              th:src="@{/images/{id}/(id=${imageId})}"
              class="pb-3"
              style="width: 30%;"
            />
          </div>
          <div class="mb-3" th:if="${imageId} == null">
            <img src="https://via.placeholder.com/150" alt="" />
          </div>
        </div>
        <div class="col-lg">
          <h2 class="py-3">Skills</h2>
          <h2>Connections</h2>
        </div>
      </div>
    </div>
  </body>
</html>
